# PulumiBucket
A Kubernetes Custom Resource for managing AWS S3 buckets using Pulumi.

## Options

- **bucketName** (string): Optional name for the bucket. If not provided, a unique name will be automatically generated by Pulumi. Optional field.

- **public** (boolean): Whether the bucket is public. If `true`, the bucket will be publicly accessible. By default, the bucket will be private. Optional field.

- **encrypted** (boolean): Whether the bucket is encrypted. If `true`, the bucket will be encrypted at rest. By default, the bucket will not be encrypted. The bucket will be encrypted using the default S3 KMS key. Optional field.

- **versioning** (boolean): Whether the bucket is versioned. If `true`, the bucket enables versioning. By default, the bucket will not be versioned. Optional field.

- **protected** (boolean): By default, when a bucket is deleted, all of its content will also be deleted. If this option is set, it won't be possible to delete a bucket that has objects in it. Optional field.

## Examples in Kubernetes Manifests

```yaml
apiVersion: pulumi.kblocks.io/v1
kind: PulumiBucket
metadata:
  name: my-pulumi-bucket
bucketName: "my-pulumi-bucket"
public: true
encrypted: true
```

```yaml
apiVersion: pulumi.kblocks.io/v1
kind: PulumiBucket
metadata:
  name: my-versioned-private-bucket
versioning: true
```

```yaml
apiVersion: pulumi.kblocks.io/v1
kind: PulumiBucket
metadata:
  name: my-protected-bucket
protected: true
```

## Resources

- An AWS S3 bucket identified by the names specified, managed through Pulumi infrastructure as code.
- Automatic configuration and management of bucket settings and permissions based on the specified options.

## Behavior

The PulumiBucket resource abstracts the complexity of creating S3 buckets using Pulumi within Kubernetes. When you create an instance of this resource, it will:

1. Use Pulumi to provision an S3 bucket in your AWS account
2. Manage the bucket's lifecycle through Kubernetes
3. Provide outputs like bucket name for use in other resources